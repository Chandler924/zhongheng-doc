import{_ as s,c as n,a as t,o as p}from"./app-CPz0HARG.js";const e={};function l(c,a){return p(),n("div",null,[...a[0]||(a[0]=[t(`<h1 id="zimageuploader-图片上传器" tabindex="-1"><a class="header-anchor" href="#zimageuploader-图片上传器"><span>ZImageUploader-图片上传器</span></a></h1><h2 id="组件介绍" tabindex="-1"><a class="header-anchor" href="#组件介绍"><span>组件介绍</span></a></h2><p>ZImageUploader是一个功能丰富的图片上传组件，基于Element Plus的Upload组件封装。支持图片预览、限制上传数量和大小、粘贴上传等功能。组件可以与后端存储服务集成，自动处理图片的上传、删除和预览。</p><h2 id="用法及示例代码" tabindex="-1"><a class="header-anchor" href="#用法及示例代码"><span>用法及示例代码</span></a></h2><h3 id="基本用法" tabindex="-1"><a class="header-anchor" href="#基本用法"><span>基本用法</span></a></h3><div class="language-vue line-numbers-mode" data-highlighter="prismjs" data-ext="vue"><pre><code class="language-vue"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>z-image-uploader</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>imageList<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> imageList <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="设置上传限制" tabindex="-1"><a class="header-anchor" href="#设置上传限制"><span>设置上传限制</span></a></h3><div class="language-vue line-numbers-mode" data-highlighter="prismjs" data-ext="vue"><pre><code class="language-vue"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>z-image-uploader</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>imageList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:limit</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:file-size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">accept</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image/png,image/jpeg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> imageList <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="与业务id关联" tabindex="-1"><a class="header-anchor" href="#与业务id关联"><span>与业务ID关联</span></a></h3><div class="language-vue line-numbers-mode" data-highlighter="prismjs" data-ext="vue"><pre><code class="language-vue"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>z-image-uploader</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>imageList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parent-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user_123<span class="token punctuation">&quot;</span></span> <span class="token attr-name">config-group</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>avatar<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> imageList <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="开启粘贴上传功能" tabindex="-1"><a class="header-anchor" href="#开启粘贴上传功能"><span>开启粘贴上传功能</span></a></h3><div class="language-vue line-numbers-mode" data-highlighter="prismjs" data-ext="vue"><pre><code class="language-vue"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>z-image-uploader</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>imageList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:allow-paste</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> imageList <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="只读模式" tabindex="-1"><a class="header-anchor" href="#只读模式"><span>只读模式</span></a></h3><div class="language-vue line-numbers-mode" data-highlighter="prismjs" data-ext="vue"><pre><code class="language-vue"><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>z-image-uploader</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>imageList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:is-query</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 初始化已有图片数据</span></span>
<span class="line"><span class="token keyword">const</span> imageList <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span></span>
<span class="line">  <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">uid</span><span class="token operator">:</span> <span class="token number">1001</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;example.jpg&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;https://example.com/api/storage/download/1001&#39;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="属性" tabindex="-1"><a class="header-anchor" href="#属性"><span>属性</span></a></h2><table><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>默认值</th><th>版本号</th></tr></thead><tbody><tr><td>modelValue</td><td>图片文件列表</td><td>Array</td><td>[]</td><td>v6.0</td></tr><tr><td>isQuery</td><td>是否为只读模式</td><td>boolean</td><td>false</td><td>v6.0</td></tr><tr><td>disabled</td><td>是否禁用</td><td>boolean</td><td>false</td><td>v6.0</td></tr><tr><td>limitSize</td><td>文件大小限制(已废弃，使用fileSize)</td><td>number</td><td>null</td><td>v6.0</td></tr><tr><td>accept</td><td>接受上传的文件类型</td><td>string</td><td>&#39;image/*&#39;</td><td>v6.0</td></tr><tr><td>configGroup</td><td>附件分组标识</td><td>string</td><td>null</td><td>v6.0</td></tr><tr><td>showUploadList</td><td>是否显示已上传文件列表</td><td>boolean</td><td>true</td><td>v6.0</td></tr><tr><td>listType</td><td>上传列表的内建样式</td><td>string</td><td>&#39;picture-card&#39;</td><td>v6.0</td></tr><tr><td>parentId</td><td>业务ID，用于关联上传的图片</td><td>string</td><td>&#39;&#39;</td><td>v6.0</td></tr><tr><td>limit</td><td>最大允许上传图片数量</td><td>number</td><td>200</td><td>v6.0</td></tr><tr><td>fileSize</td><td>单个文件大小限制(MB)</td><td>number</td><td>200</td><td>v6.0</td></tr><tr><td>bucketName</td><td>存储空间名称</td><td>string</td><td>&#39;zongheng&#39;</td><td>v6.0</td></tr><tr><td>systemName</td><td>系统名称</td><td>string</td><td>&#39;zongheng&#39;</td><td>v6.0</td></tr><tr><td>markText</td><td>附件备注说明</td><td>string</td><td>&#39;markText&#39;</td><td>v6.0</td></tr><tr><td>headers</td><td>上传请求头</td><td>object</td><td>{}</td><td>v6.0</td></tr><tr><td>beforeUpload</td><td>上传前钩子函数</td><td>Function</td><td>null</td><td>v6.0</td></tr><tr><td>allowPaste</td><td>是否允许粘贴上传图片</td><td>boolean</td><td>false</td><td>v6.0</td></tr></tbody></table><h2 id="事件" tabindex="-1"><a class="header-anchor" href="#事件"><span>事件</span></a></h2><table><thead><tr><th>事件名称</th><th>说明</th><th>回调参数</th><th>参数结构</th><th>版本号</th></tr></thead><tbody><tr><td>update:modelValue</td><td>图片列表变化时触发</td><td>fileList</td><td>Array</td><td>v6.0</td></tr><tr><td>change</td><td>图片列表变化时触发</td><td>fileList, status</td><td>fileList: Array, status?: string</td><td>v6.0</td></tr><tr><td>input</td><td>图片列表初始化或变化时触发</td><td>fileList</td><td>Array</td><td>v6.0</td></tr></tbody></table><h2 id="方法" tabindex="-1"><a class="header-anchor" href="#方法"><span>方法</span></a></h2><table><thead><tr><th>方法名</th><th>说明</th><th>参数</th><th>版本号</th></tr></thead><tbody><tr><td>imageValidator</td><td>验证是否有上传图片</td><td>-</td><td>v6.0</td></tr><tr><td>validator</td><td>验证图片是否符合要求</td><td>callback(message: string) =&gt; void</td><td>v6.0</td></tr></tbody></table><h2 id="插槽" tabindex="-1"><a class="header-anchor" href="#插槽"><span>插槽</span></a></h2><p>组件没有提供自定义插槽。</p><h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h2><ol><li>组件默认限制上传2张图片，每张图片大小不超过2MB</li><li>当设置了<code>parentId</code>时，组件会自动从服务器获取关联的图片列表</li><li>上传成功后，如果设置了<code>parentId</code>，组件会自动调用保存接口将图片与业务ID关联</li><li>开启粘贴上传功能后，点击粘贴区域激活，然后可以通过Ctrl+V粘贴剪贴板中的图片</li><li>组件依赖于Element Plus的Upload组件和@zhv3/common-utils库</li><li>删除图片时会弹出确认对话框，确认后才会执行删除操作</li></ol>`,24)])])}const i=s(e,[["render",l]]),d=JSON.parse('{"path":"/frontend/components/pc/z-image-uploader.html","title":"ZImageUploader-图片上传器","lang":"zh-CN","frontmatter":{},"git":{"updatedTime":1758186963000,"contributors":[{"name":"TianYu","username":"TianYu","email":"tianyu@zt.com.cn","commits":1,"url":"https://github.com/TianYu"}],"changelog":[{"hash":"ff708520cd5557cb3ca36bc9c10d977cdc05bfb6","time":1758186963000,"email":"tianyu@zt.com.cn","author":"TianYu","message":"fix: 更新文档和组件，优化前端结构和资源链接"}]},"filePathRelative":"frontend/components/pc/z-image-uploader.md"}');export{i as comp,d as data};
